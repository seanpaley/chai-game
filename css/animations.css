/* animations.css - Steam, flame, boil, pour, color transitions */

/* ============ STEAM ============ */
.steam-container {
  position: absolute;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 40px;
  display: flex;
  justify-content: center;
  gap: 10px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.5s;
}
.steam-container.visible { opacity: 1; }

.steam-line {
  width: 2px;
  height: 30px;
  background: rgba(200, 200, 200, 0.6);
  border-radius: 2px;
  animation: steam-rise 2s ease-out infinite;
}
.steam-line:nth-child(2) { animation-delay: 0.3s; height: 35px; }
.steam-line:nth-child(3) { animation-delay: 0.6s; height: 25px; }
.steam-line:nth-child(4) { animation-delay: 0.9s; height: 32px; }

@keyframes steam-rise {
  0% {
    transform: translateY(0) scaleX(1);
    opacity: 0.7;
  }
  50% {
    transform: translateY(-15px) scaleX(1.5);
    opacity: 0.4;
  }
  100% {
    transform: translateY(-35px) scaleX(2);
    opacity: 0;
  }
}

/* ============ FLAME ============ */
.flame {
  width: 14px;
  height: 24px;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  position: relative;
}

.flame-outer {
  background: #FF6600;
  animation: flame-flicker 0.4s ease-in-out infinite alternate;
}

.flame-inner {
  position: absolute;
  bottom: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 14px;
  background: #FFCC00;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  animation: flame-flicker-inner 0.3s ease-in-out infinite alternate;
}

@keyframes flame-flicker {
  0% { transform: scaleY(1) scaleX(1); }
  100% { transform: scaleY(1.15) scaleX(0.9); }
}

@keyframes flame-flicker-inner {
  0% { transform: translateX(-50%) scaleY(1); }
  100% { transform: translateX(-50%) scaleY(0.85); }
}

/* Flame size by heat level */
.flame-container.heat-off { display: none; }

.flame-container.heat-low .flame { transform: scale(0.6); }
.flame-container.heat-medium .flame { transform: scale(0.85); }
.flame-container.heat-high .flame { transform: scale(1.1); }

.flame-container.heat-low .flame-outer { background: #FF8844; }
.flame-container.heat-medium .flame-outer { background: #FF6600; }
.flame-container.heat-high .flame-outer { background: #FF4400; animation-duration: 0.25s; }

/* ============ BOIL BUBBLES ============ */
.bubble-container {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  border-radius: 0 0 50% 50%;
}

.bubble {
  position: absolute;
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 50%;
  animation: bubble-rise 1.5s ease-out infinite;
}
.bubble:nth-child(1) { left: 20%; animation-delay: 0s; }
.bubble:nth-child(2) { left: 40%; animation-delay: 0.4s; width: 6px; height: 6px; }
.bubble:nth-child(3) { left: 60%; animation-delay: 0.8s; }
.bubble:nth-child(4) { left: 75%; animation-delay: 0.2s; width: 5px; height: 5px; }
.bubble:nth-child(5) { left: 35%; animation-delay: 1s; width: 7px; height: 7px; }
.bubble:nth-child(6) { left: 55%; animation-delay: 0.6s; width: 4px; height: 4px; }

.bubble-container.gentle .bubble { animation-duration: 2.5s; }
.bubble-container.rolling .bubble { animation-duration: 0.8s; }

@keyframes bubble-rise {
  0% {
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
  }
  20% {
    opacity: 0.6;
  }
  100% {
    bottom: 100%;
    opacity: 0;
    transform: scale(1.2);
  }
}

/* ============ LIQUID COLORS ============ */
.pot-liquid.water { background: rgba(173, 216, 230, 0.7); }
.pot-liquid.tea-light { background: rgba(210, 160, 100, 0.8); }
.pot-liquid.tea-medium { background: rgba(180, 120, 60, 0.85); }
.pot-liquid.tea-dark { background: rgba(139, 69, 19, 0.9); }
.pot-liquid.milky { background: rgba(222, 184, 135, 0.9); }
.pot-liquid.chai { background: linear-gradient(180deg, rgba(222,184,135,0.9), rgba(212,118,60,0.95)); }
.pot-liquid.saffron-chai {
  background: linear-gradient(180deg, rgba(255,200,100,0.9), rgba(212,118,60,0.95));
}

/* ============ POUR ANIMATION ============ */
.pour-animation {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.3);
  z-index: 100;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s;
}
.pour-animation.active {
  opacity: 1;
  pointer-events: auto;
}

.pour-stream {
  width: 12px;
  height: 0;
  background: linear-gradient(180deg, var(--chai-brown), #C4813D);
  border-radius: 6px;
  animation: pour-down 1.5s ease-in forwards;
}

@keyframes pour-down {
  0% { height: 0; opacity: 1; }
  60% { height: 120px; opacity: 1; }
  100% { height: 120px; opacity: 0; }
}

/* ============ INGREDIENT ADD ANIMATION ============ */
.ingredient-drop {
  animation: drop-in 0.4s ease-out;
}

@keyframes drop-in {
  0% { transform: translateY(-20px); opacity: 0; }
  60% { transform: translateY(4px); opacity: 1; }
  100% { transform: translateY(0); opacity: 1; }
}

/* ============ SCORE REVEAL ============ */
.score-reveal {
  animation: score-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes score-pop {
  0% { transform: scale(0); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

/* Star fill animation */
.star-animate {
  display: inline-block;
  animation: star-fill 0.4s ease-out forwards;
  opacity: 0;
}
.star-animate:nth-child(1) { animation-delay: 0.3s; }
.star-animate:nth-child(2) { animation-delay: 0.6s; }
.star-animate:nth-child(3) { animation-delay: 0.9s; }

@keyframes star-fill {
  0% { transform: scale(0) rotate(-30deg); opacity: 0; }
  60% { transform: scale(1.3) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

/* ============ SHAKE (wrong choice) ============ */
.shake {
  animation: shake 0.4s ease-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
}

/* ============ PULSE (correct choice) ============ */
.pulse {
  animation: pulse 0.3s ease-out;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

/* ============ TIMING METER ANIMATION ============ */
.timing-marker {
  animation: timing-sweep linear forwards;
}

@keyframes timing-sweep {
  0% { left: 0%; }
  100% { left: 100%; }
}

/* ============ SCREEN TRANSITIONS ============ */
.screen {
  animation: fade-in 0.3s ease-out;
}

@keyframes fade-in {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* ============ BOLLYWOOD EASTER EGG ============ */
.bollywood-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s;
  cursor: pointer;
}
.bollywood-overlay.active {
  opacity: 1;
  pointer-events: auto;
  background: radial-gradient(ellipse at center,
    rgba(255, 100, 0, 0.85) 0%,
    rgba(200, 0, 80, 0.9) 50%,
    rgba(100, 0, 150, 0.95) 100%);
  animation: bollywood-bg 1s ease-in-out infinite alternate;
}

@keyframes bollywood-bg {
  0% { background: radial-gradient(ellipse at center, rgba(255,100,0,0.85), rgba(200,0,80,0.9), rgba(100,0,150,0.95)); }
  100% { background: radial-gradient(ellipse at center, rgba(255,200,0,0.85), rgba(255,50,100,0.9), rgba(150,0,200,0.95)); }
}

.bollywood-content {
  text-align: center;
  z-index: 2;
  animation: bollywood-zoom 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes bollywood-zoom {
  0% { transform: scale(0) rotate(-10deg); }
  60% { transform: scale(1.15) rotate(3deg); }
  100% { transform: scale(1) rotate(0); }
}

.bollywood-title {
  font-size: 2rem;
  font-weight: 900;
  color: #FFD700;
  text-shadow: 3px 3px 0 #FF4500, -1px -1px 0 #FF4500;
  letter-spacing: 4px;
  margin-bottom: 20px;
  animation: bollywood-pulse 0.5s ease-in-out infinite alternate;
}

@keyframes bollywood-pulse {
  0% { transform: scale(1); text-shadow: 3px 3px 0 #FF4500; }
  100% { transform: scale(1.05); text-shadow: 3px 3px 10px #FF4500, 0 0 30px #FFD700; }
}

.bollywood-avatar {
  font-size: 5rem;
  animation: bollywood-dance 0.6s ease-in-out infinite alternate;
  display: inline-block;
}

@keyframes bollywood-dance {
  0% { transform: rotate(-15deg) scale(1); }
  50% { transform: rotate(0deg) scale(1.1); }
  100% { transform: rotate(15deg) scale(1); }
}

.bollywood-quote {
  font-size: 1.4rem;
  color: white;
  font-style: italic;
  font-weight: 700;
  max-width: 500px;
  margin: 20px auto;
  line-height: 1.6;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  animation: bollywood-text 0.8s ease-out 0.3s both;
}

@keyframes bollywood-text {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}

.bollywood-subtitle {
  color: rgba(255,255,255,0.6);
  font-size: 0.8rem;
  margin-top: 20px;
}

/* Falling emojis */
.bollywood-emojis {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  overflow: hidden;
  pointer-events: none;
}

.bollywood-emoji {
  position: absolute;
  top: -50px;
  font-size: 2rem;
  animation: bollywood-fall linear infinite;
  opacity: 0.8;
}

@keyframes bollywood-fall {
  0% { transform: translateY(-50px) rotate(0deg); opacity: 0.8; }
  100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
}
